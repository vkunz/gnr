<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>ProjectGNR: Y:/PROJECTS/GNR/src/GLCamera.cpp Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
<link href="../../tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='../../open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='../../closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='../../closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="../../main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="../../classes.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
<h1>Y:/PROJECTS/GNR/src/GLCamera.cpp</h1><a href="../../d2/d60/_g_l_camera_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00013"></a>00013 <span class="preprocessor">#include &lt;math.h&gt;</span>
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="preprocessor">#include "<a class="code" href="../../d5/de8/_g_l_camera_8h.html">GLCamera.h</a>"</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include "<a class="code" href="../../d2/d46/_global_define_8h.html">GlobalDefine.h</a>"</span>
<a name="l00017"></a>00017 
<a name="l00022"></a><a class="code" href="../../da/d43/class_g_l_camera.html#2c4cac4871779828af5b1e76468ac3ca">00022</a> <a class="code" href="../../da/d43/class_g_l_camera.html#2c4cac4871779828af5b1e76468ac3ca">GLCamera::GLCamera</a>()
<a name="l00023"></a>00023 {
<a name="l00024"></a>00024         <a class="code" href="../../da/d43/class_g_l_camera.html#2c5e42bda3b533852a83fd62608ae3db">reset</a>();
<a name="l00025"></a>00025 }
<a name="l00026"></a>00026 
<a name="l00035"></a><a class="code" href="../../da/d43/class_g_l_camera.html#d92fb975dc7f52f72f22379069f9285b">00035</a> <span class="keywordtype">void</span> <a class="code" href="../../da/d43/class_g_l_camera.html#d92fb975dc7f52f72f22379069f9285b">GLCamera::move</a>(<a class="code" href="../../d0/d72/class_vertex.html">Vertex</a> direction)
<a name="l00036"></a>00036 {
<a name="l00037"></a>00037         <a class="code" href="../../da/d43/class_g_l_camera.html#8c8ba1ed847ca9dfedc93642762eaaa1">viewPoint</a> = <a class="code" href="../../da/d43/class_g_l_camera.html#8c8ba1ed847ca9dfedc93642762eaaa1">viewPoint</a> + direction;
<a name="l00038"></a>00038 }
<a name="l00039"></a>00039 
<a name="l00045"></a><a class="code" href="../../da/d43/class_g_l_camera.html#613fa99c37d6f1c9da2147a6e4ce0fc2">00045</a> <span class="keywordtype">void</span> <a class="code" href="../../da/d43/class_g_l_camera.html#613fa99c37d6f1c9da2147a6e4ce0fc2">GLCamera::rotateX</a>(GLfloat angle)
<a name="l00046"></a>00046 {
<a name="l00047"></a>00047         <a class="code" href="../../da/d43/class_g_l_camera.html#88dd87f37429c80be1e5a05e3dff764a">rotatedX</a> += angle;
<a name="l00048"></a>00048 
<a name="l00049"></a>00049         <span class="comment">//Rotate viewdir around the right-Vector:</span>
<a name="l00050"></a>00050         <a class="code" href="../../da/d43/class_g_l_camera.html#f0bde8a0ad90511361bafa3cb409d315">viewDir</a> = <a class="code" href="../../da/d43/class_g_l_camera.html#f0bde8a0ad90511361bafa3cb409d315">viewDir</a>*cos(angle*M_PI/180.0) + <a class="code" href="../../da/d43/class_g_l_camera.html#f61c20ee52bfb16d8ac4502ffa168b3c">upVector</a>*sin(angle*M_PI/180.0);
<a name="l00051"></a>00051         <a class="code" href="../../da/d43/class_g_l_camera.html#f0bde8a0ad90511361bafa3cb409d315">viewDir</a>.<a class="code" href="../../d0/d72/class_vertex.html#4443fbe7be5882e4f662ac874f63f0a8">normalize</a>();
<a name="l00052"></a>00052 
<a name="l00053"></a>00053         <span class="comment">//now compute the new UpVector (by cross product)</span>
<a name="l00054"></a>00054         <a class="code" href="../../da/d43/class_g_l_camera.html#f61c20ee52bfb16d8ac4502ffa168b3c">upVector</a> = (<a class="code" href="../../da/d43/class_g_l_camera.html#f0bde8a0ad90511361bafa3cb409d315">viewDir</a> * <a class="code" href="../../da/d43/class_g_l_camera.html#80cf0cfb93f4a4717abad3c23c2af329">rightVector</a>) *-1;
<a name="l00055"></a>00055 }
<a name="l00056"></a>00056 
<a name="l00062"></a><a class="code" href="../../da/d43/class_g_l_camera.html#78b9d707fd93c476dd14b1c2b6b32d5d">00062</a> <span class="keywordtype">void</span> <a class="code" href="../../da/d43/class_g_l_camera.html#78b9d707fd93c476dd14b1c2b6b32d5d">GLCamera::rotateY</a>(GLfloat angle)
<a name="l00063"></a>00063 {
<a name="l00064"></a>00064         <a class="code" href="../../da/d43/class_g_l_camera.html#c94d335003393bf66997d6b62ea3b210">rotatedY</a> += angle;
<a name="l00065"></a>00065 
<a name="l00066"></a>00066         <span class="comment">//Rotate viewdir around the up vector at the viewPoint:</span>
<a name="l00067"></a>00067         <a class="code" href="../../da/d43/class_g_l_camera.html#f0bde8a0ad90511361bafa3cb409d315">viewDir</a> = <a class="code" href="../../da/d43/class_g_l_camera.html#f0bde8a0ad90511361bafa3cb409d315">viewDir</a>*cos(angle*M_PI/180.0) - <a class="code" href="../../da/d43/class_g_l_camera.html#80cf0cfb93f4a4717abad3c23c2af329">rightVector</a>*sin(angle*M_PI/180.0);
<a name="l00068"></a>00068         <a class="code" href="../../da/d43/class_g_l_camera.html#f0bde8a0ad90511361bafa3cb409d315">viewDir</a>.<a class="code" href="../../d0/d72/class_vertex.html#4443fbe7be5882e4f662ac874f63f0a8">normalize</a>();
<a name="l00069"></a>00069 
<a name="l00070"></a>00070         <span class="comment">//now compute the new RightVector (by cross product)</span>
<a name="l00071"></a>00071         <a class="code" href="../../da/d43/class_g_l_camera.html#80cf0cfb93f4a4717abad3c23c2af329">rightVector</a> = <a class="code" href="../../da/d43/class_g_l_camera.html#f0bde8a0ad90511361bafa3cb409d315">viewDir</a> * <a class="code" href="../../da/d43/class_g_l_camera.html#f61c20ee52bfb16d8ac4502ffa168b3c">upVector</a>;
<a name="l00072"></a>00072 }
<a name="l00073"></a>00073 
<a name="l00079"></a><a class="code" href="../../da/d43/class_g_l_camera.html#0393e1817078f54cc145b8962e8658b0">00079</a> <span class="keywordtype">void</span> <a class="code" href="../../da/d43/class_g_l_camera.html#0393e1817078f54cc145b8962e8658b0">GLCamera::rotateZ</a>(GLfloat angle)
<a name="l00080"></a>00080 {
<a name="l00081"></a>00081         <a class="code" href="../../da/d43/class_g_l_camera.html#5fdd9dd1f821e5aea5a7975b0b7b0a82">rotatedZ</a> += angle;
<a name="l00082"></a>00082 
<a name="l00083"></a>00083         <span class="comment">//Rotate viewdir around the right vector:</span>
<a name="l00084"></a>00084         <a class="code" href="../../da/d43/class_g_l_camera.html#80cf0cfb93f4a4717abad3c23c2af329">rightVector</a> = <a class="code" href="../../da/d43/class_g_l_camera.html#80cf0cfb93f4a4717abad3c23c2af329">rightVector</a>*cos(angle*M_PI/180.0) + <a class="code" href="../../da/d43/class_g_l_camera.html#f61c20ee52bfb16d8ac4502ffa168b3c">upVector</a>*sin(angle*M_PI/180.0);
<a name="l00085"></a>00085         <a class="code" href="../../da/d43/class_g_l_camera.html#80cf0cfb93f4a4717abad3c23c2af329">rightVector</a>.<a class="code" href="../../d0/d72/class_vertex.html#4443fbe7be5882e4f662ac874f63f0a8">normalize</a>();
<a name="l00086"></a>00086 
<a name="l00087"></a>00087         <span class="comment">//now compute the new UpVector (by cross product)</span>
<a name="l00088"></a>00088         <a class="code" href="../../da/d43/class_g_l_camera.html#f61c20ee52bfb16d8ac4502ffa168b3c">upVector</a> = (<a class="code" href="../../da/d43/class_g_l_camera.html#f0bde8a0ad90511361bafa3cb409d315">viewDir</a> * <a class="code" href="../../da/d43/class_g_l_camera.html#80cf0cfb93f4a4717abad3c23c2af329">rightVector</a>)*-1;
<a name="l00089"></a>00089 }
<a name="l00090"></a>00090 
<a name="l00095"></a><a class="code" href="../../da/d43/class_g_l_camera.html#23734ccf4e8be643e3c6b7bc3d2626c8">00095</a> <span class="keywordtype">void</span> <a class="code" href="../../da/d43/class_g_l_camera.html#23734ccf4e8be643e3c6b7bc3d2626c8">GLCamera::render</a>()
<a name="l00096"></a>00096 {
<a name="l00097"></a>00097 
<a name="l00098"></a>00098         <span class="comment">//The point at which the camera looks:</span>
<a name="l00099"></a>00099         <a class="code" href="../../d0/d72/class_vertex.html">Vertex</a> position = <a class="code" href="../../da/d43/class_g_l_camera.html#8c8ba1ed847ca9dfedc93642762eaaa1">viewPoint</a> - <a class="code" href="../../da/d43/class_g_l_camera.html#f0bde8a0ad90511361bafa3cb409d315">viewDir</a>*<a class="code" href="../../da/d43/class_g_l_camera.html#7f519a477eae9325130551ed92cc726c">m_distance</a>;
<a name="l00100"></a>00100         <span class="keywordflow">if</span> (position.<a class="code" href="../../d0/d72/class_vertex.html#ec30db203626f77d260e33726a30b5ca">getY</a>() &lt;= <a class="code" href="../../d2/d46/_global_define_8h.html#636f2eeea0a8e43ad2bdd4acd6b85405">CAMERA_HEIGHT_MIN</a>)
<a name="l00101"></a>00101         {
<a name="l00102"></a>00102                 position.<a class="code" href="../../d0/d72/class_vertex.html#4f844b660a6ba3d69f5dbf320aae9b79">setY</a>(<a class="code" href="../../d2/d46/_global_define_8h.html#636f2eeea0a8e43ad2bdd4acd6b85405">CAMERA_HEIGHT_MIN</a>);
<a name="l00103"></a>00103                 <a class="code" href="../../da/d43/class_g_l_camera.html#8c8ba1ed847ca9dfedc93642762eaaa1">viewPoint</a> = position + <a class="code" href="../../da/d43/class_g_l_camera.html#f0bde8a0ad90511361bafa3cb409d315">viewDir</a>*m_distance;
<a name="l00104"></a>00104         }
<a name="l00105"></a>00105 
<a name="l00106"></a>00106         <span class="comment">//as we know the up vector, we can easily use gluLookAt:</span>
<a name="l00107"></a>00107         gluLookAt(position.<a class="code" href="../../d0/d72/class_vertex.html#5052ff1eaa3994c79c8b693884127428">getX</a>(),position.<a class="code" href="../../d0/d72/class_vertex.html#ec30db203626f77d260e33726a30b5ca">getY</a>(),position.<a class="code" href="../../d0/d72/class_vertex.html#c6e94e1a137dd360f9dce1ccfa6058d7">getZ</a>(),
<a name="l00108"></a>00108                   <a class="code" href="../../da/d43/class_g_l_camera.html#8c8ba1ed847ca9dfedc93642762eaaa1">viewPoint</a>.<a class="code" href="../../d0/d72/class_vertex.html#5052ff1eaa3994c79c8b693884127428">getX</a>(),<a class="code" href="../../da/d43/class_g_l_camera.html#8c8ba1ed847ca9dfedc93642762eaaa1">viewPoint</a>.<a class="code" href="../../d0/d72/class_vertex.html#ec30db203626f77d260e33726a30b5ca">getY</a>(),<a class="code" href="../../da/d43/class_g_l_camera.html#8c8ba1ed847ca9dfedc93642762eaaa1">viewPoint</a>.<a class="code" href="../../d0/d72/class_vertex.html#c6e94e1a137dd360f9dce1ccfa6058d7">getZ</a>(),
<a name="l00109"></a>00109                   <a class="code" href="../../da/d43/class_g_l_camera.html#f61c20ee52bfb16d8ac4502ffa168b3c">upVector</a>.<a class="code" href="../../d0/d72/class_vertex.html#5052ff1eaa3994c79c8b693884127428">getX</a>(),<a class="code" href="../../da/d43/class_g_l_camera.html#f61c20ee52bfb16d8ac4502ffa168b3c">upVector</a>.<a class="code" href="../../d0/d72/class_vertex.html#ec30db203626f77d260e33726a30b5ca">getY</a>(),<a class="code" href="../../da/d43/class_g_l_camera.html#f61c20ee52bfb16d8ac4502ffa168b3c">upVector</a>.<a class="code" href="../../d0/d72/class_vertex.html#c6e94e1a137dd360f9dce1ccfa6058d7">getZ</a>());
<a name="l00110"></a>00110 
<a name="l00111"></a>00111 }
<a name="l00112"></a>00112 
<a name="l00118"></a><a class="code" href="../../da/d43/class_g_l_camera.html#ef543422de351457ad49f54503a8ab21">00118</a> <span class="keywordtype">void</span> <a class="code" href="../../da/d43/class_g_l_camera.html#ef543422de351457ad49f54503a8ab21">GLCamera::moveForward</a>(GLfloat distance)
<a name="l00119"></a>00119 {
<a name="l00120"></a>00120         <a class="code" href="../../da/d43/class_g_l_camera.html#8c8ba1ed847ca9dfedc93642762eaaa1">viewPoint</a> = <a class="code" href="../../da/d43/class_g_l_camera.html#8c8ba1ed847ca9dfedc93642762eaaa1">viewPoint</a> + (<a class="code" href="../../da/d43/class_g_l_camera.html#f0bde8a0ad90511361bafa3cb409d315">viewDir</a>*-distance);
<a name="l00121"></a>00121         <span class="keywordflow">if</span> (<a class="code" href="../../da/d43/class_g_l_camera.html#8c8ba1ed847ca9dfedc93642762eaaa1">viewPoint</a>.<a class="code" href="../../d0/d72/class_vertex.html#ec30db203626f77d260e33726a30b5ca">getY</a>() &lt;= <a class="code" href="../../d2/d46/_global_define_8h.html#636f2eeea0a8e43ad2bdd4acd6b85405">CAMERA_HEIGHT_MIN</a>)
<a name="l00122"></a>00122         {
<a name="l00123"></a>00123                 <a class="code" href="../../da/d43/class_g_l_camera.html#8c8ba1ed847ca9dfedc93642762eaaa1">viewPoint</a>.<a class="code" href="../../d0/d72/class_vertex.html#4f844b660a6ba3d69f5dbf320aae9b79">setY</a>(<a class="code" href="../../d2/d46/_global_define_8h.html#636f2eeea0a8e43ad2bdd4acd6b85405">CAMERA_HEIGHT_MIN</a>);
<a name="l00124"></a>00124         }
<a name="l00125"></a>00125 }
<a name="l00126"></a>00126 
<a name="l00132"></a><a class="code" href="../../da/d43/class_g_l_camera.html#263d339522c813e2303eca344033de99">00132</a> <span class="keywordtype">void</span> <a class="code" href="../../da/d43/class_g_l_camera.html#263d339522c813e2303eca344033de99">GLCamera::strafeRight</a>(GLfloat distance)
<a name="l00133"></a>00133 {
<a name="l00134"></a>00134         <a class="code" href="../../da/d43/class_g_l_camera.html#8c8ba1ed847ca9dfedc93642762eaaa1">viewPoint</a> = <a class="code" href="../../da/d43/class_g_l_camera.html#8c8ba1ed847ca9dfedc93642762eaaa1">viewPoint</a> + (<a class="code" href="../../da/d43/class_g_l_camera.html#80cf0cfb93f4a4717abad3c23c2af329">rightVector</a>*distance);
<a name="l00135"></a>00135 }
<a name="l00136"></a>00136 
<a name="l00142"></a><a class="code" href="../../da/d43/class_g_l_camera.html#37c19d2ad536ad033e339263901cb0e7">00142</a> <span class="keywordtype">void</span> <a class="code" href="../../da/d43/class_g_l_camera.html#37c19d2ad536ad033e339263901cb0e7">GLCamera::moveUpward</a>(GLfloat distance)
<a name="l00143"></a>00143 {
<a name="l00144"></a>00144         <a class="code" href="../../da/d43/class_g_l_camera.html#8c8ba1ed847ca9dfedc93642762eaaa1">viewPoint</a> = <a class="code" href="../../da/d43/class_g_l_camera.html#8c8ba1ed847ca9dfedc93642762eaaa1">viewPoint</a> + (<a class="code" href="../../da/d43/class_g_l_camera.html#f61c20ee52bfb16d8ac4502ffa168b3c">upVector</a>*distance);
<a name="l00145"></a>00145         <span class="keywordflow">if</span> (<a class="code" href="../../da/d43/class_g_l_camera.html#8c8ba1ed847ca9dfedc93642762eaaa1">viewPoint</a>.<a class="code" href="../../d0/d72/class_vertex.html#ec30db203626f77d260e33726a30b5ca">getY</a>() &lt;= <a class="code" href="../../d2/d46/_global_define_8h.html#636f2eeea0a8e43ad2bdd4acd6b85405">CAMERA_HEIGHT_MIN</a>)
<a name="l00146"></a>00146         {
<a name="l00147"></a>00147                 <a class="code" href="../../da/d43/class_g_l_camera.html#8c8ba1ed847ca9dfedc93642762eaaa1">viewPoint</a>.<a class="code" href="../../d0/d72/class_vertex.html#4f844b660a6ba3d69f5dbf320aae9b79">setY</a>(<a class="code" href="../../d2/d46/_global_define_8h.html#636f2eeea0a8e43ad2bdd4acd6b85405">CAMERA_HEIGHT_MIN</a>);
<a name="l00148"></a>00148         }
<a name="l00149"></a>00149 }
<a name="l00150"></a>00150 
<a name="l00158"></a><a class="code" href="../../da/d43/class_g_l_camera.html#661fafad3a3d2322983cdbe9112f64a8">00158</a> <span class="keywordtype">void</span> <a class="code" href="../../da/d43/class_g_l_camera.html#661fafad3a3d2322983cdbe9112f64a8">GLCamera::setPosition</a>(<span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, <span class="keywordtype">float</span> z)
<a name="l00159"></a>00159 {
<a name="l00160"></a>00160         <a class="code" href="../../d0/d72/class_vertex.html">Vertex</a> temp(x, y, z);
<a name="l00161"></a>00161         <a class="code" href="../../da/d43/class_g_l_camera.html#8c8ba1ed847ca9dfedc93642762eaaa1">viewPoint</a> = (temp + <a class="code" href="../../da/d43/class_g_l_camera.html#f0bde8a0ad90511361bafa3cb409d315">viewDir</a>*<a class="code" href="../../da/d43/class_g_l_camera.html#7f519a477eae9325130551ed92cc726c">m_distance</a>);
<a name="l00162"></a>00162         <span class="keywordflow">if</span> (<a class="code" href="../../da/d43/class_g_l_camera.html#8c8ba1ed847ca9dfedc93642762eaaa1">viewPoint</a>.<a class="code" href="../../d0/d72/class_vertex.html#ec30db203626f77d260e33726a30b5ca">getY</a>() &lt;= <a class="code" href="../../d2/d46/_global_define_8h.html#636f2eeea0a8e43ad2bdd4acd6b85405">CAMERA_HEIGHT_MIN</a>)
<a name="l00163"></a>00163         {
<a name="l00164"></a>00164                 <a class="code" href="../../da/d43/class_g_l_camera.html#8c8ba1ed847ca9dfedc93642762eaaa1">viewPoint</a>.<a class="code" href="../../d0/d72/class_vertex.html#4f844b660a6ba3d69f5dbf320aae9b79">setY</a>(<a class="code" href="../../d2/d46/_global_define_8h.html#636f2eeea0a8e43ad2bdd4acd6b85405">CAMERA_HEIGHT_MIN</a>);
<a name="l00165"></a>00165         }
<a name="l00166"></a>00166 }
<a name="l00167"></a>00167 
<a name="l00175"></a><a class="code" href="../../da/d43/class_g_l_camera.html#9de9fa5f939f1465625a3c5fc2f173f5">00175</a> <span class="keywordtype">void</span> <a class="code" href="../../da/d43/class_g_l_camera.html#9de9fa5f939f1465625a3c5fc2f173f5">GLCamera::setAngles</a>(<span class="keywordtype">float</span> phi, <span class="keywordtype">float</span> theta, <span class="keywordtype">float</span> rho)
<a name="l00176"></a>00176 {
<a name="l00177"></a>00177         <a class="code" href="../../da/d43/class_g_l_camera.html#f0bde8a0ad90511361bafa3cb409d315">viewDir</a>.<a class="code" href="../../d0/d72/class_vertex.html#d2c370f9731b0c2f10e97962c1813e64">setX</a>(0);
<a name="l00178"></a>00178         <a class="code" href="../../da/d43/class_g_l_camera.html#f0bde8a0ad90511361bafa3cb409d315">viewDir</a>.<a class="code" href="../../d0/d72/class_vertex.html#4f844b660a6ba3d69f5dbf320aae9b79">setY</a>(0);
<a name="l00179"></a>00179         <a class="code" href="../../da/d43/class_g_l_camera.html#f0bde8a0ad90511361bafa3cb409d315">viewDir</a>.<a class="code" href="../../d0/d72/class_vertex.html#78a5114dee466cc217883443b9e5f017">setZ</a>(-1);
<a name="l00180"></a>00180         <a class="code" href="../../da/d43/class_g_l_camera.html#f0bde8a0ad90511361bafa3cb409d315">viewDir</a>.<a class="code" href="../../d0/d72/class_vertex.html#40a9d8a482417b54f069af45dd27370c">rotate</a>(phi, theta, 0.0);
<a name="l00181"></a>00181         <a class="code" href="../../da/d43/class_g_l_camera.html#f0bde8a0ad90511361bafa3cb409d315">viewDir</a>.<a class="code" href="../../d0/d72/class_vertex.html#4443fbe7be5882e4f662ac874f63f0a8">normalize</a>();
<a name="l00182"></a>00182 
<a name="l00183"></a>00183         <a class="code" href="../../da/d43/class_g_l_camera.html#f61c20ee52bfb16d8ac4502ffa168b3c">upVector</a>.<a class="code" href="../../d0/d72/class_vertex.html#d2c370f9731b0c2f10e97962c1813e64">setX</a>(0);
<a name="l00184"></a>00184         <a class="code" href="../../da/d43/class_g_l_camera.html#f61c20ee52bfb16d8ac4502ffa168b3c">upVector</a>.<a class="code" href="../../d0/d72/class_vertex.html#4f844b660a6ba3d69f5dbf320aae9b79">setY</a>(1);
<a name="l00185"></a>00185         <a class="code" href="../../da/d43/class_g_l_camera.html#f61c20ee52bfb16d8ac4502ffa168b3c">upVector</a>.<a class="code" href="../../d0/d72/class_vertex.html#78a5114dee466cc217883443b9e5f017">setZ</a>(0);
<a name="l00186"></a>00186         <a class="code" href="../../da/d43/class_g_l_camera.html#f61c20ee52bfb16d8ac4502ffa168b3c">upVector</a>.<a class="code" href="../../d0/d72/class_vertex.html#40a9d8a482417b54f069af45dd27370c">rotate</a>(0.0, 0.0, rho);
<a name="l00187"></a>00187         <a class="code" href="../../da/d43/class_g_l_camera.html#f61c20ee52bfb16d8ac4502ffa168b3c">upVector</a>.<a class="code" href="../../d0/d72/class_vertex.html#4443fbe7be5882e4f662ac874f63f0a8">normalize</a>();
<a name="l00188"></a>00188 
<a name="l00189"></a>00189         <a class="code" href="../../da/d43/class_g_l_camera.html#88dd87f37429c80be1e5a05e3dff764a">rotatedX</a> = phi;
<a name="l00190"></a>00190         <a class="code" href="../../da/d43/class_g_l_camera.html#c94d335003393bf66997d6b62ea3b210">rotatedY</a> = theta;
<a name="l00191"></a>00191         <a class="code" href="../../da/d43/class_g_l_camera.html#5fdd9dd1f821e5aea5a7975b0b7b0a82">rotatedZ</a> = rho;
<a name="l00192"></a>00192 }
<a name="l00193"></a>00193 
<a name="l00199"></a><a class="code" href="../../da/d43/class_g_l_camera.html#ac5f61e9969d0ce0f9be70db857eb139">00199</a> <span class="keywordtype">void</span> <a class="code" href="../../da/d43/class_g_l_camera.html#ac5f61e9969d0ce0f9be70db857eb139">GLCamera::changeDistance</a>(<span class="keywordtype">float</span> distance)
<a name="l00200"></a>00200 {
<a name="l00201"></a>00201         <a class="code" href="../../da/d43/class_g_l_camera.html#7f519a477eae9325130551ed92cc726c">m_distance</a> += distance;
<a name="l00202"></a>00202         <span class="keywordflow">if</span> (<a class="code" href="../../da/d43/class_g_l_camera.html#7f519a477eae9325130551ed92cc726c">m_distance</a> &lt;= <a class="code" href="../../d2/d46/_global_define_8h.html#7e4bbc285f47d717a2215bf17589ee99">CAMERA_DISTANCE_MIN</a>)
<a name="l00203"></a>00203         {
<a name="l00204"></a>00204                 <a class="code" href="../../da/d43/class_g_l_camera.html#7f519a477eae9325130551ed92cc726c">m_distance</a> = <a class="code" href="../../d2/d46/_global_define_8h.html#7e4bbc285f47d717a2215bf17589ee99">CAMERA_DISTANCE_MIN</a>;
<a name="l00205"></a>00205                 <a class="code" href="../../d0/d72/class_vertex.html">Vertex</a> oldViewPoint = <a class="code" href="../../da/d43/class_g_l_camera.html#8c8ba1ed847ca9dfedc93642762eaaa1">viewPoint</a> + <a class="code" href="../../da/d43/class_g_l_camera.html#f0bde8a0ad90511361bafa3cb409d315">viewDir</a>*<a class="code" href="../../da/d43/class_g_l_camera.html#7f519a477eae9325130551ed92cc726c">m_distance</a>;
<a name="l00206"></a>00206                 <a class="code" href="../../da/d43/class_g_l_camera.html#b81e70d92516943286c89c69a2cb86a8">setViewPoint</a>(oldViewPoint);
<a name="l00207"></a>00207         }
<a name="l00208"></a>00208 }
<a name="l00209"></a>00209 
<a name="l00215"></a><a class="code" href="../../da/d43/class_g_l_camera.html#8a3c75a09e27547204bcb45aca580df5">00215</a> <span class="keywordtype">float</span> <a class="code" href="../../da/d43/class_g_l_camera.html#8a3c75a09e27547204bcb45aca580df5">GLCamera::getDistance</a>()
<a name="l00216"></a>00216 {
<a name="l00217"></a>00217         <span class="keywordflow">return</span> <a class="code" href="../../da/d43/class_g_l_camera.html#7f519a477eae9325130551ed92cc726c">m_distance</a>;
<a name="l00218"></a>00218 }
<a name="l00219"></a>00219 
<a name="l00224"></a><a class="code" href="../../da/d43/class_g_l_camera.html#2c5e42bda3b533852a83fd62608ae3db">00224</a> <span class="keywordtype">void</span> <a class="code" href="../../da/d43/class_g_l_camera.html#2c5e42bda3b533852a83fd62608ae3db">GLCamera::reset</a>()
<a name="l00225"></a>00225 {
<a name="l00226"></a>00226         <span class="comment">//Init with standard OGL values:</span>
<a name="l00227"></a>00227         <a class="code" href="../../da/d43/class_g_l_camera.html#8c8ba1ed847ca9dfedc93642762eaaa1">viewPoint</a>   = <a class="code" href="../../d0/d72/class_vertex.html">Vertex</a>(0.0, 0.0, 0.0);
<a name="l00228"></a>00228         <a class="code" href="../../da/d43/class_g_l_camera.html#f0bde8a0ad90511361bafa3cb409d315">viewDir</a>     = <a class="code" href="../../d0/d72/class_vertex.html">Vertex</a>(0.0, 0.0,-1.0);
<a name="l00229"></a>00229         <a class="code" href="../../da/d43/class_g_l_camera.html#80cf0cfb93f4a4717abad3c23c2af329">rightVector</a> = <a class="code" href="../../d0/d72/class_vertex.html">Vertex</a>(1.0, 0.0, 0.0);
<a name="l00230"></a>00230         <a class="code" href="../../da/d43/class_g_l_camera.html#f61c20ee52bfb16d8ac4502ffa168b3c">upVector</a>    = <a class="code" href="../../d0/d72/class_vertex.html">Vertex</a>(0.0, 1.0, 0.0);
<a name="l00231"></a>00231 
<a name="l00232"></a>00232         <a class="code" href="../../da/d43/class_g_l_camera.html#88dd87f37429c80be1e5a05e3dff764a">rotatedX</a> = <a class="code" href="../../da/d43/class_g_l_camera.html#c94d335003393bf66997d6b62ea3b210">rotatedY</a> = <a class="code" href="../../da/d43/class_g_l_camera.html#5fdd9dd1f821e5aea5a7975b0b7b0a82">rotatedZ</a> = 0.0;
<a name="l00233"></a>00233 
<a name="l00234"></a>00234         <a class="code" href="../../da/d43/class_g_l_camera.html#7f519a477eae9325130551ed92cc726c">m_distance</a> = 2.0;
<a name="l00235"></a>00235 }
<a name="l00236"></a>00236 
<a name="l00242"></a><a class="code" href="../../da/d43/class_g_l_camera.html#df3a4dbe26a03d93fb56a4cb8a306b73">00242</a> <a class="code" href="../../d0/d72/class_vertex.html">Vertex</a> <a class="code" href="../../da/d43/class_g_l_camera.html#df3a4dbe26a03d93fb56a4cb8a306b73">GLCamera::getPosition</a>()
<a name="l00243"></a>00243 {
<a name="l00244"></a>00244         <a class="code" href="../../d0/d72/class_vertex.html">Vertex</a> position = <a class="code" href="../../da/d43/class_g_l_camera.html#8c8ba1ed847ca9dfedc93642762eaaa1">viewPoint</a> - <a class="code" href="../../da/d43/class_g_l_camera.html#f0bde8a0ad90511361bafa3cb409d315">viewDir</a>*<a class="code" href="../../da/d43/class_g_l_camera.html#7f519a477eae9325130551ed92cc726c">m_distance</a>;
<a name="l00245"></a>00245         <span class="keywordflow">return</span> position;
<a name="l00246"></a>00246 }
<a name="l00247"></a>00247 
<a name="l00253"></a><a class="code" href="../../da/d43/class_g_l_camera.html#7e9f1d00f4a429379580adc02ac7b830">00253</a> <a class="code" href="../../d0/d72/class_vertex.html">Vertex</a> <a class="code" href="../../da/d43/class_g_l_camera.html#7e9f1d00f4a429379580adc02ac7b830">GLCamera::getViewPoint</a>()
<a name="l00254"></a>00254 {
<a name="l00255"></a>00255         <span class="keywordflow">return</span> <a class="code" href="../../da/d43/class_g_l_camera.html#8c8ba1ed847ca9dfedc93642762eaaa1">viewPoint</a>;
<a name="l00256"></a>00256 }
<a name="l00257"></a>00257 
<a name="l00263"></a><a class="code" href="../../da/d43/class_g_l_camera.html#0e134e03205b92aeb763a818916c6699">00263</a> <a class="code" href="../../d0/d72/class_vertex.html">Vertex</a> <a class="code" href="../../da/d43/class_g_l_camera.html#0e134e03205b92aeb763a818916c6699">GLCamera::getViewDir</a>()
<a name="l00264"></a>00264 {
<a name="l00265"></a>00265         <span class="keywordflow">return</span> <a class="code" href="../../da/d43/class_g_l_camera.html#f0bde8a0ad90511361bafa3cb409d315">viewDir</a>;
<a name="l00266"></a>00266 }
<a name="l00267"></a>00267 
<a name="l00273"></a><a class="code" href="../../da/d43/class_g_l_camera.html#35976545adea184577d2d34c63f489ba">00273</a> <a class="code" href="../../d0/d72/class_vertex.html">Vertex</a> <a class="code" href="../../da/d43/class_g_l_camera.html#35976545adea184577d2d34c63f489ba">GLCamera::getRightVector</a>()
<a name="l00274"></a>00274 {
<a name="l00275"></a>00275         <span class="keywordflow">return</span> <a class="code" href="../../da/d43/class_g_l_camera.html#80cf0cfb93f4a4717abad3c23c2af329">rightVector</a>;
<a name="l00276"></a>00276 }
<a name="l00277"></a>00277 
<a name="l00283"></a><a class="code" href="../../da/d43/class_g_l_camera.html#395219cbe9c427e18c0997e9cd31fa79">00283</a> <a class="code" href="../../d0/d72/class_vertex.html">Vertex</a> <a class="code" href="../../da/d43/class_g_l_camera.html#395219cbe9c427e18c0997e9cd31fa79">GLCamera::getUpVector</a>()
<a name="l00284"></a>00284 {
<a name="l00285"></a>00285         <span class="keywordflow">return</span> <a class="code" href="../../da/d43/class_g_l_camera.html#f61c20ee52bfb16d8ac4502ffa168b3c">upVector</a>;
<a name="l00286"></a>00286 }
<a name="l00287"></a>00287 
<a name="l00293"></a><a class="code" href="../../da/d43/class_g_l_camera.html#159cef64f00a59131e4b719315c73134">00293</a> GLfloat <a class="code" href="../../da/d43/class_g_l_camera.html#159cef64f00a59131e4b719315c73134">GLCamera::getRotatedX</a>()
<a name="l00294"></a>00294 {
<a name="l00295"></a>00295         <span class="keywordflow">return</span> <a class="code" href="../../da/d43/class_g_l_camera.html#88dd87f37429c80be1e5a05e3dff764a">rotatedX</a>;
<a name="l00296"></a>00296 }
<a name="l00297"></a>00297 
<a name="l00303"></a><a class="code" href="../../da/d43/class_g_l_camera.html#11bc8c1ea6b37278efb1bb2b7adb7157">00303</a> GLfloat <a class="code" href="../../da/d43/class_g_l_camera.html#11bc8c1ea6b37278efb1bb2b7adb7157">GLCamera::getRotatedY</a>()
<a name="l00304"></a>00304 {
<a name="l00305"></a>00305         <span class="keywordflow">return</span> <a class="code" href="../../da/d43/class_g_l_camera.html#c94d335003393bf66997d6b62ea3b210">rotatedY</a>;
<a name="l00306"></a>00306 }
<a name="l00307"></a>00307 
<a name="l00313"></a><a class="code" href="../../da/d43/class_g_l_camera.html#ed9a0b2f888246527b980551fea4baa8">00313</a> GLfloat <a class="code" href="../../da/d43/class_g_l_camera.html#ed9a0b2f888246527b980551fea4baa8">GLCamera::getRotatedZ</a>()
<a name="l00314"></a>00314 {
<a name="l00315"></a>00315         <span class="keywordflow">return</span> <a class="code" href="../../da/d43/class_g_l_camera.html#5fdd9dd1f821e5aea5a7975b0b7b0a82">rotatedZ</a>;
<a name="l00316"></a>00316 }
<a name="l00317"></a>00317 
<a name="l00323"></a><a class="code" href="../../da/d43/class_g_l_camera.html#b81e70d92516943286c89c69a2cb86a8">00323</a> <span class="keywordtype">void</span> <a class="code" href="../../da/d43/class_g_l_camera.html#b81e70d92516943286c89c69a2cb86a8">GLCamera::setViewPoint</a>(<a class="code" href="../../d0/d72/class_vertex.html">Vertex</a> point)
<a name="l00324"></a>00324 {
<a name="l00325"></a>00325         <span class="keywordflow">if</span> (point.<a class="code" href="../../d0/d72/class_vertex.html#ec30db203626f77d260e33726a30b5ca">getY</a>() &lt;= <a class="code" href="../../d2/d46/_global_define_8h.html#636f2eeea0a8e43ad2bdd4acd6b85405">CAMERA_HEIGHT_MIN</a>)
<a name="l00326"></a>00326         {
<a name="l00327"></a>00327                 point.<a class="code" href="../../d0/d72/class_vertex.html#4f844b660a6ba3d69f5dbf320aae9b79">setY</a>(<a class="code" href="../../d2/d46/_global_define_8h.html#636f2eeea0a8e43ad2bdd4acd6b85405">CAMERA_HEIGHT_MIN</a>);
<a name="l00328"></a>00328         }
<a name="l00329"></a>00329         <a class="code" href="../../da/d43/class_g_l_camera.html#8c8ba1ed847ca9dfedc93642762eaaa1">viewPoint</a> = point;
<a name="l00330"></a>00330 }
<a name="l00331"></a>00331 
<a name="l00337"></a><a class="code" href="../../da/d43/class_g_l_camera.html#eb845a7fbdc1bbb081e34e6ff5b881d4">00337</a> <span class="keywordtype">void</span> <a class="code" href="../../da/d43/class_g_l_camera.html#eb845a7fbdc1bbb081e34e6ff5b881d4">GLCamera::setViewDir</a>(<a class="code" href="../../d0/d72/class_vertex.html">Vertex</a> dir)
<a name="l00338"></a>00338 {
<a name="l00339"></a>00339         <a class="code" href="../../da/d43/class_g_l_camera.html#f0bde8a0ad90511361bafa3cb409d315">viewDir</a> = dir;
<a name="l00340"></a>00340 }
<a name="l00341"></a>00341 
<a name="l00347"></a><a class="code" href="../../da/d43/class_g_l_camera.html#787247064401178dcf90933bc6f61cc2">00347</a> <span class="keywordtype">void</span> <a class="code" href="../../da/d43/class_g_l_camera.html#787247064401178dcf90933bc6f61cc2">GLCamera::setRightVector</a>(<a class="code" href="../../d0/d72/class_vertex.html">Vertex</a> right)
<a name="l00348"></a>00348 {
<a name="l00349"></a>00349         <a class="code" href="../../da/d43/class_g_l_camera.html#80cf0cfb93f4a4717abad3c23c2af329">rightVector</a> = right;
<a name="l00350"></a>00350 }
<a name="l00351"></a>00351 
<a name="l00357"></a><a class="code" href="../../da/d43/class_g_l_camera.html#fdf8b8ae61cfa781814e971835e19a18">00357</a> <span class="keywordtype">void</span> <a class="code" href="../../da/d43/class_g_l_camera.html#fdf8b8ae61cfa781814e971835e19a18">GLCamera::setUpVector</a>(<a class="code" href="../../d0/d72/class_vertex.html">Vertex</a> up)
<a name="l00358"></a>00358 {
<a name="l00359"></a>00359         <a class="code" href="../../da/d43/class_g_l_camera.html#f61c20ee52bfb16d8ac4502ffa168b3c">upVector</a> = up;
<a name="l00360"></a>00360 }
<a name="l00361"></a>00361 
<a name="l00367"></a><a class="code" href="../../da/d43/class_g_l_camera.html#4498ed9d4cbed052656766131b924e3a">00367</a> <span class="keywordtype">void</span> <a class="code" href="../../da/d43/class_g_l_camera.html#4498ed9d4cbed052656766131b924e3a">GLCamera::setRotatedX</a>(GLfloat phi)
<a name="l00368"></a>00368 {
<a name="l00369"></a>00369         <a class="code" href="../../da/d43/class_g_l_camera.html#88dd87f37429c80be1e5a05e3dff764a">rotatedX</a> = phi;
<a name="l00370"></a>00370 }
<a name="l00371"></a>00371 
<a name="l00377"></a><a class="code" href="../../da/d43/class_g_l_camera.html#eca64420561734927de161e1bdc7b1dc">00377</a> <span class="keywordtype">void</span> <a class="code" href="../../da/d43/class_g_l_camera.html#eca64420561734927de161e1bdc7b1dc">GLCamera::setRotatedY</a>(GLfloat theta)
<a name="l00378"></a>00378 {
<a name="l00379"></a>00379         <a class="code" href="../../da/d43/class_g_l_camera.html#c94d335003393bf66997d6b62ea3b210">rotatedY</a> = theta;
<a name="l00380"></a>00380 }
<a name="l00381"></a>00381 
<a name="l00387"></a><a class="code" href="../../da/d43/class_g_l_camera.html#6ba5a225882e28a8166e890515dd7ff7">00387</a> <span class="keywordtype">void</span> <a class="code" href="../../da/d43/class_g_l_camera.html#6ba5a225882e28a8166e890515dd7ff7">GLCamera::setRotatedZ</a>(GLfloat rho)
<a name="l00388"></a>00388 {
<a name="l00389"></a>00389         <a class="code" href="../../da/d43/class_g_l_camera.html#5fdd9dd1f821e5aea5a7975b0b7b0a82">rotatedZ</a> = rho;
<a name="l00390"></a>00390 }
<a name="l00391"></a>00391 
<a name="l00396"></a><a class="code" href="../../da/d43/class_g_l_camera.html#0622c29828396fc68be023b8c871e401">00396</a> <a class="code" href="../../da/d43/class_g_l_camera.html#0622c29828396fc68be023b8c871e401">GLCamera::~GLCamera</a>() {}
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sun Nov 9 13:10:34 2008 for ProjectGNR by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
